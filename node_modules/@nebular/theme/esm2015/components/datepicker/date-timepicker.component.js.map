{"version":3,"file":"date-timepicker.component.js","sourceRoot":"","sources":["../../../../../../.ng_build/theme/components/datepicker/date-timepicker.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  Component,\n  ComponentFactoryResolver,\n  Inject,\n  Input,\n  OnInit,\n  Optional,\n  Type,\n} from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { convertToBoolProperty, NbBooleanInput } from '../helpers';\nimport { NB_DOCUMENT } from '../../theme.options';\nimport { NbPositionBuilderService } from '../cdk/overlay/overlay-position';\nimport { NbTriggerStrategyBuilderService } from '../cdk/overlay/overlay-trigger';\nimport { NbOverlayService } from '../cdk/overlay/overlay-service';\nimport { NbCalendarTimeModelService } from '../calendar-kit/services/calendar-time-model.service';\nimport { NbDateService } from '../calendar-kit/services/date.service';\nimport { NbCalendarWithTimeComponent } from './calendar-with-time.component';\nimport { NbBasePickerComponent } from './datepicker.component';\nimport { NB_DATE_SERVICE_OPTIONS } from './datepicker.directive';\n\n@Component({\n  selector: 'nb-date-timepicker',\n  template: '',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NbDateTimePickerComponent<D> extends NbBasePickerComponent<D, D, NbCalendarWithTimeComponent<D>>\n                                          implements OnInit {\n\n  protected pickerClass: Type<NbCalendarWithTimeComponent<D>> = NbCalendarWithTimeComponent;\n\n  get value(): any {\n    return this.picker ? this.picker.date : undefined;\n  }\n  set value(date: any) {\n    if (!this.picker) {\n      this.queue = date;\n      return;\n    }\n\n    if (date) {\n      this.visibleDate = date;\n      this.picker.visibleDate = date;\n      this.picker.date = date;\n      this.picker.cd.markForCheck();\n    }\n  }\n\n  @Input() step: number;\n  @Input() title: string;\n  @Input() applyButtonText: string;\n  @Input() currentTimeButtonText: string;\n\n  @Input()\n  get twelveHoursFormat(): boolean {\n    return this._twelveHoursFormat;\n  }\n  set twelveHoursFormat(value: boolean) {\n    this._twelveHoursFormat = convertToBoolProperty(value);\n  }\n  _twelveHoursFormat: boolean;\n  static ngAcceptInputType_twelveHoursFormat: NbBooleanInput;\n\n  @Input()\n  get withSeconds(): boolean {\n    return this._withSeconds;\n  }\n  set withSeconds(value: boolean) {\n    this._withSeconds = convertToBoolProperty(value);\n  }\n  _withSeconds: boolean;\n  static ngAcceptInputType_withSeconds: NbBooleanInput;\n\n  @Input()\n  get singleColumn(): boolean {\n    return this._singleColumn;\n  }\n  set singleColumn(value: boolean) {\n    this._singleColumn = convertToBoolProperty(value);\n  }\n  _singleColumn: boolean;\n  static ngAcceptInputType_singleColumn: NbBooleanInput;\n\n  constructor(@Inject(NB_DOCUMENT) document,\n              positionBuilder: NbPositionBuilderService,\n              triggerStrategyBuilder: NbTriggerStrategyBuilderService,\n              overlay: NbOverlayService,\n              cfr: ComponentFactoryResolver,\n              dateService: NbDateService<D>,\n              @Optional() @Inject(NB_DATE_SERVICE_OPTIONS) dateServiceOptions,\n              protected calendarWithTimeModelService: NbCalendarTimeModelService<D>) {\n    super(document, positionBuilder, triggerStrategyBuilder, overlay, cfr, dateService, dateServiceOptions);\n  }\n\n  ngOnInit() {\n    this.format = this.format || this.buildTimeFormat();\n  }\n\n  protected patchWithInputs() {\n    this.picker.singleColumn = this.singleColumn;\n    this.picker.twelveHoursFormat = this.twelveHoursFormat;\n    this.picker.withSeconds = this.withSeconds;\n    this.picker.step = this.step;\n    this.picker.title = this.title;\n    this.picker.applyButtonText = this.applyButtonText;\n    this.picker.currentTimeButtonText = this.currentTimeButtonText;\n\n    if (this.twelveHoursFormat) {\n      this.picker.timeFormat = this.dateService.getTwelveHoursFormat();\n    } else {\n      this.picker.timeFormat = this.withSeconds ? this.dateService.getTwentyFourHoursFormatWithSeconds() :\n        this.dateService.getTwentyFourHoursFormat();\n    }\n    super.patchWithInputs();\n\n    this.picker.cd.markForCheck();\n  }\n\n  protected get pickerValueChange(): Observable<any> {\n    return this.picker.dateChange;\n  }\n\n  protected writeQueue() {\n    if (this.queue) {\n      const date = this.queue;\n      this.queue = null;\n      this.value = date;\n    }\n  }\n\n  protected buildTimeFormat(): string {\n    if (this.singleColumn) {\n      return this.calendarWithTimeModelService.buildDateFormat(this.twelveHoursFormat);\n    } else {\n      return this.calendarWithTimeModelService.buildDateFormat(this.twelveHoursFormat, this.withSeconds);\n    }\n  }\n}\n\n"]}