{"version":3,"sources":["ng2-completer.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ng2","completer","ng","core","Rx","Observable","prototype","common","http","forms","this","operators","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","isFunction","x","_enable_super_gross_mode_that_will_cause_bad_things","config","Promise","undefined","useDeprecatedSynchronousErrorHandling","value","Error","stack","hostReportError","err","setTimeout","empty","closed","next","error","complete","isArray","UnsubscriptionError","UnsubscriptionErrorImpl","errors","call","message","map","toString","join","name","Subscription","unsubscribe","_parentOrParents","_subscriptions","_unsubscribe","remove","index","e","flattenUnsubscriptionErrors","len","sub","concat","push","add","teardown","subscription","EMPTY","tmp","indexOf","subscriptions","subscriptionIndex","splice","reduce","errs","rxSubscriber","Symbol","Math","random","Subscriber","_super","destinationOrNext","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","SafeSubscriber","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentSubscriber","observerOrNext","context","bind","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","fn","parent","observable","noop","subscribe","_isScalar","_subscribe","lift","operator","source","sink","nextOrObserver","toSubscriber","_trySubscribe","observer","closed_1","canReportError","console","warn","forEach","promiseCtor","getPromiseCtor","resolve","reject","pipe","fns","operations","_i","input","prev","toPromise","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","AnonymousSubject","copy","slice","asObservable","AsyncAction","scheduler","work","pending","schedule","state","delay","id","recycleAsyncId","requestAsyncId","setInterval","flush","clearInterval","execute","_execute","errored","errorValue","actions","Action","Scheduler","SchedulerAction","now","Date","isScheduler","async","AsyncScheduler","delegate","active","scheduled","action","shift","isNumeric","val","parseFloat","timer","dueTime","periodOrScheduler","period","Number","due","dispatch","isNil","noop$1","CompleterBaseData","_searchFields","_titleField","_descriptionField","_imageField","cancel","searchFields","titleField","descriptionField","imageField","convertToItem","data","formattedText","image","formattedDesc","extractTitle","JSON","stringify","extractValue","description","originalObject","title","extractMatches","term","split","filter","item","extractBySearchFields","some","toLowerCase","field","acc","titlePart","obj","result","keys_1","processResults","matches","results","searchField","LocalData","dataSourceChange","EventEmitter","_data","savedTerm","catchError","res","search","emit","RemoteData","_remoteUrl","remoteSearch","_urlFormater","_dataField","remoteUrl","urlFormater","dataField","requestOptions","_requestOptions","url","encodeURIComponent","get","assign","LocalDataFactory","Injectable","RemoteDataFactory","HttpClient","CompleterService","localDataFactory","remoteDataFactory","local","remote","CtrCompleter","selected","highlighted","opened","list","dropdown","_hasHighlighted","_hasSelected","_cancelBlur","_isOpen","_autoHighlightIndex","registerList","registerDropdown","onHighlighted","onSelected","clearList","clear","onDataSourceChange","hasSelected","isOpen","selectCurrent","nextRow","prevRow","hasHighlighted","cancelBlur","isCancelBlur","open","set","enumerable","configurable","highlightRow","Output","Directive","selector","CtrRowItem","row","CtrDropdown","el","zone","rows","isScrollOn","_rowMouseDown","ngOnDestroy","ngAfterViewInit","css","getComputedStyle","nativeElement","autoHighlightIndex","maxHeight","overflowY","run","onMouseDown","event","registerRow","arrIndex","findIndex","_row","unregisterRow","rowIndex","currHighlighted","find","setHighlighted","getDataItem","rowTop","dropdownRowTop","dropdownScrollTopTo","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownRowOffsetHeight","top","parseInt","paddingTop","rowMouseDown","nextRowIndex","offset","scrollTop","parentElement","offsetHeight","marginTop","marginBottom","HostListener","Function","Host","ElementRef","NgZone","CtrInput","ngModel","clearSelected","clearUnselected","overrideSuggested","fillHighlighted","openOnFocus","openOnClick","selectOnClick","selectOnFocus","ngModelChange","_searchStr","_displayStr","blurTimer","searchStr","valueChanges","keyupHandler","keyCode","preventDefault","restoreSearchValue","stopPropagation","pasteHandler","keydownHandler","which","handleSelection","ctrlKey","metaKey","altKey","onBlur","focus","take","doBlur","onfocus","select","onClick","Input","NgModel","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","cd","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListAutoHighlight","ctrListDisplaySearching","_dataService","searchTimer","clearTimer","ctx","_initialValue","viewRef","ngOnInit","createEmbeddedView","newService","dataServiceSubscribe","initialItem","refreshTemplate","searchTimerComplete","_clear","dataService","destroyed","detectChanges","markForCheck","getBestMatchIndex","bestMatch","toLocaleLowerCase","startsWith","includes","TemplateRef","ViewContainerRef","ChangeDetectorRef","CtrRow","renderer","_rowIndex","_item","onMouseEnter","addClass","removeClass","Renderer2","CompleterListItemCmp","text","matchClass","type","parts","matchStr","matchPos","startIndex","matchText","isMatch","matchPart","String","Component","template","COMPLETER_CONTROL_VALUE_ACCESSOR","multi","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","completerService","cdr","inputName","inputId","pause","minSearchLength","maxChars","placeholder","autoMatch","disableInput","autofocus","autoHighlight","blurEvent","click","focusEvent","keyup","keydown","control","FormControl","displaySearching","displayNoResults","_textNoResults","_textSearching","_onTouchedCallback","_onChangeCallback","_focus","_open","v","ngAfterViewChecked","ctrInput","onTouched","writeValue","registerOnChange","registerOnTouched","setDisabledState","isDisabled","onFocus","onKeyup","onKeydown","onChange","close","blur","ViewChild","static","styles","providers","Ng2CompleterModule","Ng2CompleterModule_1","forRoot","ngModule","forChild","NgModule","declarations","imports","CommonModule","FormsModule","ɵa","ɵb"],"mappings":"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","file":"ng2-completer.umd.min.js.map","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs/operators'), require('@angular/common/http'), require('@angular/forms'), require('@angular/common')) :\n    typeof define === 'function' && define.amd ? define(['exports', '@angular/core', 'rxjs/operators', '@angular/common/http', '@angular/forms', '@angular/common'], factory) :\n    (global = global || self, factory((global.ng2 = global.ng2 || {}, global.ng2.completer = {}), global.ng.core, global.Rx.Observable.prototype, global.ng.common.http, global.ng.forms, global.ng.common));\n}(this, (function (exports, core, operators, http, forms, common) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    function __decorate(decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    }\r\n\r\n    function __param(paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    }\r\n\r\n    function __metadata(metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isFunction(x) {\n        return typeof x === 'function';\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var _enable_super_gross_mode_that_will_cause_bad_things = false;\n    var config = {\n        Promise: undefined,\n        set useDeprecatedSynchronousErrorHandling(value) {\n            if (value) {\n                var error = /*@__PURE__*/ new Error();\n                /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n            }\n            _enable_super_gross_mode_that_will_cause_bad_things = value;\n        },\n        get useDeprecatedSynchronousErrorHandling() {\n            return _enable_super_gross_mode_that_will_cause_bad_things;\n        },\n    };\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function hostReportError(err) {\n        setTimeout(function () { throw err; }, 0);\n    }\n\n    /** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\n    var empty = {\n        closed: true,\n        next: function (value) { },\n        error: function (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        },\n        complete: function () { }\n    };\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isObject(x) {\n        return x !== null && typeof x === 'object';\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n        function UnsubscriptionErrorImpl(errors) {\n            Error.call(this);\n            this.message = errors ?\n                errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n            this.name = 'UnsubscriptionError';\n            this.errors = errors;\n            return this;\n        }\n        UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n        return UnsubscriptionErrorImpl;\n    })();\n    var UnsubscriptionError = UnsubscriptionErrorImpl;\n\n    /** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\n    var Subscription = /*@__PURE__*/ (function () {\n        function Subscription(unsubscribe) {\n            this.closed = false;\n            this._parentOrParents = null;\n            this._subscriptions = null;\n            if (unsubscribe) {\n                this._unsubscribe = unsubscribe;\n            }\n        }\n        Subscription.prototype.unsubscribe = function () {\n            var errors;\n            if (this.closed) {\n                return;\n            }\n            var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n            this.closed = true;\n            this._parentOrParents = null;\n            this._subscriptions = null;\n            if (_parentOrParents instanceof Subscription) {\n                _parentOrParents.remove(this);\n            }\n            else if (_parentOrParents !== null) {\n                for (var index = 0; index < _parentOrParents.length; ++index) {\n                    var parent_1 = _parentOrParents[index];\n                    parent_1.remove(this);\n                }\n            }\n            if (isFunction(_unsubscribe)) {\n                try {\n                    _unsubscribe.call(this);\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n                }\n            }\n            if (isArray(_subscriptions)) {\n                var index = -1;\n                var len = _subscriptions.length;\n                while (++index < len) {\n                    var sub = _subscriptions[index];\n                    if (isObject(sub)) {\n                        try {\n                            sub.unsubscribe();\n                        }\n                        catch (e) {\n                            errors = errors || [];\n                            if (e instanceof UnsubscriptionError) {\n                                errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                            }\n                            else {\n                                errors.push(e);\n                            }\n                        }\n                    }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        };\n        Subscription.prototype.add = function (teardown) {\n            var subscription = teardown;\n            if (!teardown) {\n                return Subscription.EMPTY;\n            }\n            switch (typeof teardown) {\n                case 'function':\n                    subscription = new Subscription(teardown);\n                case 'object':\n                    if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                        return subscription;\n                    }\n                    else if (this.closed) {\n                        subscription.unsubscribe();\n                        return subscription;\n                    }\n                    else if (!(subscription instanceof Subscription)) {\n                        var tmp = subscription;\n                        subscription = new Subscription();\n                        subscription._subscriptions = [tmp];\n                    }\n                    break;\n                default: {\n                    throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n                }\n            }\n            var _parentOrParents = subscription._parentOrParents;\n            if (_parentOrParents === null) {\n                subscription._parentOrParents = this;\n            }\n            else if (_parentOrParents instanceof Subscription) {\n                if (_parentOrParents === this) {\n                    return subscription;\n                }\n                subscription._parentOrParents = [_parentOrParents, this];\n            }\n            else if (_parentOrParents.indexOf(this) === -1) {\n                _parentOrParents.push(this);\n            }\n            else {\n                return subscription;\n            }\n            var subscriptions = this._subscriptions;\n            if (subscriptions === null) {\n                this._subscriptions = [subscription];\n            }\n            else {\n                subscriptions.push(subscription);\n            }\n            return subscription;\n        };\n        Subscription.prototype.remove = function (subscription) {\n            var subscriptions = this._subscriptions;\n            if (subscriptions) {\n                var subscriptionIndex = subscriptions.indexOf(subscription);\n                if (subscriptionIndex !== -1) {\n                    subscriptions.splice(subscriptionIndex, 1);\n                }\n            }\n        };\n        Subscription.EMPTY = (function (empty) {\n            empty.closed = true;\n            return empty;\n        }(new Subscription()));\n        return Subscription;\n    }());\n    function flattenUnsubscriptionErrors(errors) {\n        return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var rxSubscriber = /*@__PURE__*/ (function () {\n        return typeof Symbol === 'function'\n            ? /*@__PURE__*/ Symbol('rxSubscriber')\n            : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n    })();\n\n    /** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\n    var Subscriber = /*@__PURE__*/ (function (_super) {\n        __extends(Subscriber, _super);\n        function Subscriber(destinationOrNext, error, complete) {\n            var _this = _super.call(this) || this;\n            _this.syncErrorValue = null;\n            _this.syncErrorThrown = false;\n            _this.syncErrorThrowable = false;\n            _this.isStopped = false;\n            switch (arguments.length) {\n                case 0:\n                    _this.destination = empty;\n                    break;\n                case 1:\n                    if (!destinationOrNext) {\n                        _this.destination = empty;\n                        break;\n                    }\n                    if (typeof destinationOrNext === 'object') {\n                        if (destinationOrNext instanceof Subscriber) {\n                            _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                            _this.destination = destinationOrNext;\n                            destinationOrNext.add(_this);\n                        }\n                        else {\n                            _this.syncErrorThrowable = true;\n                            _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                        }\n                        break;\n                    }\n                default:\n                    _this.syncErrorThrowable = true;\n                    _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                    break;\n            }\n            return _this;\n        }\n        Subscriber.prototype[rxSubscriber] = function () { return this; };\n        Subscriber.create = function (next, error, complete) {\n            var subscriber = new Subscriber(next, error, complete);\n            subscriber.syncErrorThrowable = false;\n            return subscriber;\n        };\n        Subscriber.prototype.next = function (value) {\n            if (!this.isStopped) {\n                this._next(value);\n            }\n        };\n        Subscriber.prototype.error = function (err) {\n            if (!this.isStopped) {\n                this.isStopped = true;\n                this._error(err);\n            }\n        };\n        Subscriber.prototype.complete = function () {\n            if (!this.isStopped) {\n                this.isStopped = true;\n                this._complete();\n            }\n        };\n        Subscriber.prototype.unsubscribe = function () {\n            if (this.closed) {\n                return;\n            }\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n        };\n        Subscriber.prototype._next = function (value) {\n            this.destination.next(value);\n        };\n        Subscriber.prototype._error = function (err) {\n            this.destination.error(err);\n            this.unsubscribe();\n        };\n        Subscriber.prototype._complete = function () {\n            this.destination.complete();\n            this.unsubscribe();\n        };\n        Subscriber.prototype._unsubscribeAndRecycle = function () {\n            var _parentOrParents = this._parentOrParents;\n            this._parentOrParents = null;\n            this.unsubscribe();\n            this.closed = false;\n            this.isStopped = false;\n            this._parentOrParents = _parentOrParents;\n            return this;\n        };\n        return Subscriber;\n    }(Subscription));\n    var SafeSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(SafeSubscriber, _super);\n        function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n            var _this = _super.call(this) || this;\n            _this._parentSubscriber = _parentSubscriber;\n            var next;\n            var context = _this;\n            if (isFunction(observerOrNext)) {\n                next = observerOrNext;\n            }\n            else if (observerOrNext) {\n                next = observerOrNext.next;\n                error = observerOrNext.error;\n                complete = observerOrNext.complete;\n                if (observerOrNext !== empty) {\n                    context = Object.create(observerOrNext);\n                    if (isFunction(context.unsubscribe)) {\n                        _this.add(context.unsubscribe.bind(context));\n                    }\n                    context.unsubscribe = _this.unsubscribe.bind(_this);\n                }\n            }\n            _this._context = context;\n            _this._next = next;\n            _this._error = error;\n            _this._complete = complete;\n            return _this;\n        }\n        SafeSubscriber.prototype.next = function (value) {\n            if (!this.isStopped && this._next) {\n                var _parentSubscriber = this._parentSubscriber;\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._next, value);\n                }\n                else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.error = function (err) {\n            if (!this.isStopped) {\n                var _parentSubscriber = this._parentSubscriber;\n                var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n                if (this._error) {\n                    if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                        this.__tryOrUnsub(this._error, err);\n                        this.unsubscribe();\n                    }\n                    else {\n                        this.__tryOrSetError(_parentSubscriber, this._error, err);\n                        this.unsubscribe();\n                    }\n                }\n                else if (!_parentSubscriber.syncErrorThrowable) {\n                    this.unsubscribe();\n                    if (useDeprecatedSynchronousErrorHandling) {\n                        throw err;\n                    }\n                    hostReportError(err);\n                }\n                else {\n                    if (useDeprecatedSynchronousErrorHandling) {\n                        _parentSubscriber.syncErrorValue = err;\n                        _parentSubscriber.syncErrorThrown = true;\n                    }\n                    else {\n                        hostReportError(err);\n                    }\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.complete = function () {\n            var _this = this;\n            if (!this.isStopped) {\n                var _parentSubscriber = this._parentSubscriber;\n                if (this._complete) {\n                    var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                    if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                        this.__tryOrUnsub(wrappedComplete);\n                        this.unsubscribe();\n                    }\n                    else {\n                        this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                        this.unsubscribe();\n                    }\n                }\n                else {\n                    this.unsubscribe();\n                }\n            }\n        };\n        SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n            try {\n                fn.call(this._context, value);\n            }\n            catch (err) {\n                this.unsubscribe();\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                else {\n                    hostReportError(err);\n                }\n            }\n        };\n        SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n            if (!config.useDeprecatedSynchronousErrorHandling) {\n                throw new Error('bad call');\n            }\n            try {\n                fn.call(this._context, value);\n            }\n            catch (err) {\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    parent.syncErrorValue = err;\n                    parent.syncErrorThrown = true;\n                    return true;\n                }\n                else {\n                    hostReportError(err);\n                    return true;\n                }\n            }\n            return false;\n        };\n        SafeSubscriber.prototype._unsubscribe = function () {\n            var _parentSubscriber = this._parentSubscriber;\n            this._context = null;\n            this._parentSubscriber = null;\n            _parentSubscriber.unsubscribe();\n        };\n        return SafeSubscriber;\n    }(Subscriber));\n\n    /** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\n    function canReportError(observer) {\n        while (observer) {\n            var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n            if (closed_1 || isStopped) {\n                return false;\n            }\n            else if (destination && destination instanceof Subscriber) {\n                observer = destination;\n            }\n            else {\n                observer = null;\n            }\n        }\n        return true;\n    }\n\n    /** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\n    function toSubscriber(nextOrObserver, error, complete) {\n        if (nextOrObserver) {\n            if (nextOrObserver instanceof Subscriber) {\n                return nextOrObserver;\n            }\n            if (nextOrObserver[rxSubscriber]) {\n                return nextOrObserver[rxSubscriber]();\n            }\n        }\n        if (!nextOrObserver && !error && !complete) {\n            return new Subscriber(empty);\n        }\n        return new Subscriber(nextOrObserver, error, complete);\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function noop() { }\n\n    /** PURE_IMPORTS_START _noop PURE_IMPORTS_END */\n    function pipeFromArray(fns) {\n        if (!fns) {\n            return noop;\n        }\n        if (fns.length === 1) {\n            return fns[0];\n        }\n        return function piped(input) {\n            return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n        };\n    }\n\n    /** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\n    var Observable = /*@__PURE__*/ (function () {\n        function Observable(subscribe) {\n            this._isScalar = false;\n            if (subscribe) {\n                this._subscribe = subscribe;\n            }\n        }\n        Observable.prototype.lift = function (operator) {\n            var observable = new Observable();\n            observable.source = this;\n            observable.operator = operator;\n            return observable;\n        };\n        Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n            var operator = this.operator;\n            var sink = toSubscriber(observerOrNext, error, complete);\n            if (operator) {\n                sink.add(operator.call(sink, this.source));\n            }\n            else {\n                sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                    this._subscribe(sink) :\n                    this._trySubscribe(sink));\n            }\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                if (sink.syncErrorThrowable) {\n                    sink.syncErrorThrowable = false;\n                    if (sink.syncErrorThrown) {\n                        throw sink.syncErrorValue;\n                    }\n                }\n            }\n            return sink;\n        };\n        Observable.prototype._trySubscribe = function (sink) {\n            try {\n                return this._subscribe(sink);\n            }\n            catch (err) {\n                if (config.useDeprecatedSynchronousErrorHandling) {\n                    sink.syncErrorThrown = true;\n                    sink.syncErrorValue = err;\n                }\n                if (canReportError(sink)) {\n                    sink.error(err);\n                }\n                else {\n                    console.warn(err);\n                }\n            }\n        };\n        Observable.prototype.forEach = function (next, promiseCtor) {\n            var _this = this;\n            promiseCtor = getPromiseCtor(promiseCtor);\n            return new promiseCtor(function (resolve, reject) {\n                var subscription;\n                subscription = _this.subscribe(function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        if (subscription) {\n                            subscription.unsubscribe();\n                        }\n                    }\n                }, reject, resolve);\n            });\n        };\n        Observable.prototype._subscribe = function (subscriber) {\n            var source = this.source;\n            return source && source.subscribe(subscriber);\n        };\n        Observable.prototype[observable] = function () {\n            return this;\n        };\n        Observable.prototype.pipe = function () {\n            var operations = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                operations[_i] = arguments[_i];\n            }\n            if (operations.length === 0) {\n                return this;\n            }\n            return pipeFromArray(operations)(this);\n        };\n        Observable.prototype.toPromise = function (promiseCtor) {\n            var _this = this;\n            promiseCtor = getPromiseCtor(promiseCtor);\n            return new promiseCtor(function (resolve, reject) {\n                var value;\n                _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n            });\n        };\n        Observable.create = function (subscribe) {\n            return new Observable(subscribe);\n        };\n        return Observable;\n    }());\n    function getPromiseCtor(promiseCtor) {\n        if (!promiseCtor) {\n            promiseCtor =  Promise;\n        }\n        if (!promiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return promiseCtor;\n    }\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    var ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n        function ObjectUnsubscribedErrorImpl() {\n            Error.call(this);\n            this.message = 'object unsubscribed';\n            this.name = 'ObjectUnsubscribedError';\n            return this;\n        }\n        ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n        return ObjectUnsubscribedErrorImpl;\n    })();\n    var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n\n    /** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\n    var SubjectSubscription = /*@__PURE__*/ (function (_super) {\n        __extends(SubjectSubscription, _super);\n        function SubjectSubscription(subject, subscriber) {\n            var _this = _super.call(this) || this;\n            _this.subject = subject;\n            _this.subscriber = subscriber;\n            _this.closed = false;\n            return _this;\n        }\n        SubjectSubscription.prototype.unsubscribe = function () {\n            if (this.closed) {\n                return;\n            }\n            this.closed = true;\n            var subject = this.subject;\n            var observers = subject.observers;\n            this.subject = null;\n            if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n                return;\n            }\n            var subscriberIndex = observers.indexOf(this.subscriber);\n            if (subscriberIndex !== -1) {\n                observers.splice(subscriberIndex, 1);\n            }\n        };\n        return SubjectSubscription;\n    }(Subscription));\n\n    /** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\n    var SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n        __extends(SubjectSubscriber, _super);\n        function SubjectSubscriber(destination) {\n            var _this = _super.call(this, destination) || this;\n            _this.destination = destination;\n            return _this;\n        }\n        return SubjectSubscriber;\n    }(Subscriber));\n    var Subject = /*@__PURE__*/ (function (_super) {\n        __extends(Subject, _super);\n        function Subject() {\n            var _this = _super.call(this) || this;\n            _this.observers = [];\n            _this.closed = false;\n            _this.isStopped = false;\n            _this.hasError = false;\n            _this.thrownError = null;\n            return _this;\n        }\n        Subject.prototype[rxSubscriber] = function () {\n            return new SubjectSubscriber(this);\n        };\n        Subject.prototype.lift = function (operator) {\n            var subject = new AnonymousSubject(this, this);\n            subject.operator = operator;\n            return subject;\n        };\n        Subject.prototype.next = function (value) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            if (!this.isStopped) {\n                var observers = this.observers;\n                var len = observers.length;\n                var copy = observers.slice();\n                for (var i = 0; i < len; i++) {\n                    copy[i].next(value);\n                }\n            }\n        };\n        Subject.prototype.error = function (err) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            this.hasError = true;\n            this.thrownError = err;\n            this.isStopped = true;\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].error(err);\n            }\n            this.observers.length = 0;\n        };\n        Subject.prototype.complete = function () {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            this.isStopped = true;\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].complete();\n            }\n            this.observers.length = 0;\n        };\n        Subject.prototype.unsubscribe = function () {\n            this.isStopped = true;\n            this.closed = true;\n            this.observers = null;\n        };\n        Subject.prototype._trySubscribe = function (subscriber) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            else {\n                return _super.prototype._trySubscribe.call(this, subscriber);\n            }\n        };\n        Subject.prototype._subscribe = function (subscriber) {\n            if (this.closed) {\n                throw new ObjectUnsubscribedError();\n            }\n            else if (this.hasError) {\n                subscriber.error(this.thrownError);\n                return Subscription.EMPTY;\n            }\n            else if (this.isStopped) {\n                subscriber.complete();\n                return Subscription.EMPTY;\n            }\n            else {\n                this.observers.push(subscriber);\n                return new SubjectSubscription(this, subscriber);\n            }\n        };\n        Subject.prototype.asObservable = function () {\n            var observable = new Observable();\n            observable.source = this;\n            return observable;\n        };\n        Subject.create = function (destination, source) {\n            return new AnonymousSubject(destination, source);\n        };\n        return Subject;\n    }(Observable));\n    var AnonymousSubject = /*@__PURE__*/ (function (_super) {\n        __extends(AnonymousSubject, _super);\n        function AnonymousSubject(destination, source) {\n            var _this = _super.call(this) || this;\n            _this.destination = destination;\n            _this.source = source;\n            return _this;\n        }\n        AnonymousSubject.prototype.next = function (value) {\n            var destination = this.destination;\n            if (destination && destination.next) {\n                destination.next(value);\n            }\n        };\n        AnonymousSubject.prototype.error = function (err) {\n            var destination = this.destination;\n            if (destination && destination.error) {\n                this.destination.error(err);\n            }\n        };\n        AnonymousSubject.prototype.complete = function () {\n            var destination = this.destination;\n            if (destination && destination.complete) {\n                this.destination.complete();\n            }\n        };\n        AnonymousSubject.prototype._subscribe = function (subscriber) {\n            var source = this.source;\n            if (source) {\n                return this.source.subscribe(subscriber);\n            }\n            else {\n                return Subscription.EMPTY;\n            }\n        };\n        return AnonymousSubject;\n    }(Subject));\n\n    /** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\n    var Action = /*@__PURE__*/ (function (_super) {\n        __extends(Action, _super);\n        function Action(scheduler, work) {\n            return _super.call(this) || this;\n        }\n        Action.prototype.schedule = function (state, delay) {\n            return this;\n        };\n        return Action;\n    }(Subscription));\n\n    /** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\n    var AsyncAction = /*@__PURE__*/ (function (_super) {\n        __extends(AsyncAction, _super);\n        function AsyncAction(scheduler, work) {\n            var _this = _super.call(this, scheduler, work) || this;\n            _this.scheduler = scheduler;\n            _this.work = work;\n            _this.pending = false;\n            return _this;\n        }\n        AsyncAction.prototype.schedule = function (state, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (this.closed) {\n                return this;\n            }\n            this.state = state;\n            var id = this.id;\n            var scheduler = this.scheduler;\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, delay);\n            }\n            this.pending = true;\n            this.delay = delay;\n            this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n            return this;\n        };\n        AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            return setInterval(scheduler.flush.bind(scheduler, this), delay);\n        };\n        AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (delay !== null && this.delay === delay && this.pending === false) {\n                return id;\n            }\n            clearInterval(id);\n            return undefined;\n        };\n        AsyncAction.prototype.execute = function (state, delay) {\n            if (this.closed) {\n                return new Error('executing a cancelled action');\n            }\n            this.pending = false;\n            var error = this._execute(state, delay);\n            if (error) {\n                return error;\n            }\n            else if (this.pending === false && this.id != null) {\n                this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n            }\n        };\n        AsyncAction.prototype._execute = function (state, delay) {\n            var errored = false;\n            var errorValue = undefined;\n            try {\n                this.work(state);\n            }\n            catch (e) {\n                errored = true;\n                errorValue = !!e && e || new Error(e);\n            }\n            if (errored) {\n                this.unsubscribe();\n                return errorValue;\n            }\n        };\n        AsyncAction.prototype._unsubscribe = function () {\n            var id = this.id;\n            var scheduler = this.scheduler;\n            var actions = scheduler.actions;\n            var index = actions.indexOf(this);\n            this.work = null;\n            this.state = null;\n            this.pending = false;\n            this.scheduler = null;\n            if (index !== -1) {\n                actions.splice(index, 1);\n            }\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n        };\n        return AsyncAction;\n    }(Action));\n\n    var Scheduler = /*@__PURE__*/ (function () {\n        function Scheduler(SchedulerAction, now) {\n            if (now === void 0) {\n                now = Scheduler.now;\n            }\n            this.SchedulerAction = SchedulerAction;\n            this.now = now;\n        }\n        Scheduler.prototype.schedule = function (work, delay, state) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            return new this.SchedulerAction(this, work).schedule(state, delay);\n        };\n        Scheduler.now = function () { return Date.now(); };\n        return Scheduler;\n    }());\n\n    /** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\n    var AsyncScheduler = /*@__PURE__*/ (function (_super) {\n        __extends(AsyncScheduler, _super);\n        function AsyncScheduler(SchedulerAction, now) {\n            if (now === void 0) {\n                now = Scheduler.now;\n            }\n            var _this = _super.call(this, SchedulerAction, function () {\n                if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                    return AsyncScheduler.delegate.now();\n                }\n                else {\n                    return now();\n                }\n            }) || this;\n            _this.actions = [];\n            _this.active = false;\n            _this.scheduled = undefined;\n            return _this;\n        }\n        AsyncScheduler.prototype.schedule = function (work, delay, state) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n                return AsyncScheduler.delegate.schedule(work, delay, state);\n            }\n            else {\n                return _super.prototype.schedule.call(this, work, delay, state);\n            }\n        };\n        AsyncScheduler.prototype.flush = function (action) {\n            var actions = this.actions;\n            if (this.active) {\n                actions.push(action);\n                return;\n            }\n            var error;\n            this.active = true;\n            do {\n                if (error = action.execute(action.state, action.delay)) {\n                    break;\n                }\n            } while (action = actions.shift());\n            this.active = false;\n            if (error) {\n                while (action = actions.shift()) {\n                    action.unsubscribe();\n                }\n                throw error;\n            }\n        };\n        return AsyncScheduler;\n    }(Scheduler));\n\n    /** PURE_IMPORTS_START  PURE_IMPORTS_END */\n    function isScheduler(value) {\n        return value && typeof value.schedule === 'function';\n    }\n\n    /** PURE_IMPORTS_START _AsyncAction,_AsyncScheduler PURE_IMPORTS_END */\n    var async = /*@__PURE__*/ new AsyncScheduler(AsyncAction);\n\n    /** PURE_IMPORTS_START _isArray PURE_IMPORTS_END */\n    function isNumeric(val) {\n        return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n    }\n\n    /** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */\n    function timer(dueTime, periodOrScheduler, scheduler) {\n        if (dueTime === void 0) {\n            dueTime = 0;\n        }\n        var period = -1;\n        if (isNumeric(periodOrScheduler)) {\n            period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n        }\n        else if (isScheduler(periodOrScheduler)) {\n            scheduler = periodOrScheduler;\n        }\n        if (!isScheduler(scheduler)) {\n            scheduler = async;\n        }\n        return new Observable(function (subscriber) {\n            var due = isNumeric(dueTime)\n                ? dueTime\n                : (+dueTime - scheduler.now());\n            return scheduler.schedule(dispatch, due, {\n                index: 0, period: period, subscriber: subscriber\n            });\n        });\n    }\n    function dispatch(state) {\n        var index = state.index, period = state.period, subscriber = state.subscriber;\n        subscriber.next(index);\n        if (subscriber.closed) {\n            return;\n        }\n        else if (period === -1) {\n            return subscriber.complete();\n        }\n        state.index = index + 1;\n        this.schedule(state, period);\n    }\n\n    /**\n     * @license ng2-completer\n     * MIT license\n     */\n\n    var MAX_CHARS = 524288; // the default max length per the html maxlength attribute\n    var MIN_SEARCH_LENGTH = 3;\n    var PAUSE = 10;\n    var TEXT_SEARCHING = \"Searching...\";\n    var TEXT_NO_RESULTS = \"No results found\";\n    var CLEAR_TIMEOUT = 50;\n    function isNil(value) {\n        return typeof value === \"undefined\" || value === null;\n    }\n\n    var CompleterBaseData = /** @class */ (function (_super) {\n        __extends(CompleterBaseData, _super);\n        function CompleterBaseData() {\n            var _this = _super.call(this) || this;\n            _this._searchFields = null;\n            _this._titleField = null;\n            _this._descriptionField = undefined;\n            _this._imageField = undefined;\n            return _this;\n        }\n        CompleterBaseData.prototype.cancel = function () {\n            return;\n        };\n        CompleterBaseData.prototype.searchFields = function (searchFields) {\n            this._searchFields = searchFields;\n            return this;\n        };\n        CompleterBaseData.prototype.titleField = function (titleField) {\n            this._titleField = titleField;\n            return this;\n        };\n        CompleterBaseData.prototype.descriptionField = function (descriptionField) {\n            this._descriptionField = descriptionField;\n            return this;\n        };\n        CompleterBaseData.prototype.imageField = function (imageField) {\n            this._imageField = imageField;\n            return this;\n        };\n        CompleterBaseData.prototype.convertToItem = function (data) {\n            var image = null;\n            var formattedText;\n            var formattedDesc = null;\n            if (this._titleField) {\n                formattedText = this.extractTitle(data);\n            }\n            else {\n                formattedText = data;\n            }\n            if (typeof formattedText !== \"string\") {\n                formattedText = JSON.stringify(formattedText);\n            }\n            if (this._descriptionField) {\n                formattedDesc = this.extractValue(data, this._descriptionField);\n            }\n            if (this._imageField) {\n                image = this.extractValue(data, this._imageField);\n            }\n            if (isNil(formattedText)) {\n                return null;\n            }\n            return {\n                description: formattedDesc,\n                image: image,\n                originalObject: data,\n                title: formattedText\n            };\n        };\n        CompleterBaseData.prototype.extractMatches = function (data, term) {\n            var _this = this;\n            var matches = [];\n            var searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\n            if (this._searchFields !== null && this._searchFields !== undefined && term !== \"\") {\n                matches = data.filter(function (item) {\n                    var values = searchFields ? _this.extractBySearchFields(searchFields, item) : [item];\n                    return values.some(function (value) { return value\n                        .toString()\n                        .toLowerCase()\n                        .indexOf(term.toString().toLowerCase()) >= 0; });\n                });\n            }\n            else {\n                matches = data;\n            }\n            return matches;\n        };\n        CompleterBaseData.prototype.extractTitle = function (item) {\n            var _this = this;\n            // split title fields and run extractValue for each and join with ' '\n            if (!this._titleField) {\n                return \"\";\n            }\n            return this._titleField.split(\",\")\n                .map(function (field) {\n                return _this.extractValue(item, field);\n            })\n                .reduce(function (acc, titlePart) { return acc ? acc + \" \" + titlePart : titlePart; });\n        };\n        CompleterBaseData.prototype.extractValue = function (obj, key) {\n            var keys;\n            var result;\n            if (key) {\n                keys = key.split(\".\");\n                result = obj;\n                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                    key = keys_1[_i];\n                    if (result) {\n                        result = result[key];\n                    }\n                }\n            }\n            else {\n                result = obj;\n            }\n            return result;\n        };\n        CompleterBaseData.prototype.processResults = function (matches) {\n            var i;\n            var results = [];\n            if (matches && matches.length > 0) {\n                for (i = 0; i < matches.length; i++) {\n                    var item = this.convertToItem(matches[i]);\n                    if (item) {\n                        results.push(item);\n                    }\n                }\n            }\n            return results;\n        };\n        CompleterBaseData.prototype.extractBySearchFields = function (searchFields, item) {\n            var _this = this;\n            return searchFields\n                .map(function (searchField) { return _this.extractValue(item, searchField); }).filter(function (value) { return !!value; });\n        };\n        return CompleterBaseData;\n    }(Subject));\n\n    var LocalData = /** @class */ (function (_super) {\n        __extends(LocalData, _super);\n        function LocalData() {\n            var _this = _super.call(this) || this;\n            _this.dataSourceChange = new core.EventEmitter();\n            _this._data = [];\n            _this.savedTerm = null;\n            return _this;\n        }\n        LocalData.prototype.data = function (data) {\n            var _this = this;\n            if (data instanceof Observable) {\n                var data$ = data;\n                data$\n                    .pipe(operators.catchError(function () { return []; }))\n                    .subscribe(function (res) {\n                    _this._data = res;\n                    if (_this.savedTerm) {\n                        _this.search(_this.savedTerm);\n                    }\n                    _this.dataSourceChange.emit();\n                });\n            }\n            else {\n                this._data = data;\n            }\n            this.dataSourceChange.emit();\n            return this;\n        };\n        LocalData.prototype.search = function (term) {\n            if (!this._data) {\n                this.savedTerm = term;\n            }\n            else {\n                this.savedTerm = null;\n                var matches = this.extractMatches(this._data, term);\n                this.next(this.processResults(matches));\n            }\n        };\n        LocalData.prototype.convertToItem = function (data) {\n            return _super.prototype.convertToItem.call(this, data);\n        };\n        return LocalData;\n    }(CompleterBaseData));\n\n    var RemoteData = /** @class */ (function (_super) {\n        __extends(RemoteData, _super);\n        function RemoteData(http) {\n            var _this = _super.call(this) || this;\n            _this.http = http;\n            _this.dataSourceChange = new core.EventEmitter();\n            _this._remoteUrl = null;\n            _this.remoteSearch = null;\n            _this._urlFormater = null;\n            _this._dataField = null;\n            return _this;\n        }\n        RemoteData.prototype.remoteUrl = function (remoteUrl) {\n            this._remoteUrl = remoteUrl;\n            this.dataSourceChange.emit();\n            return this;\n        };\n        RemoteData.prototype.urlFormater = function (urlFormater) {\n            this._urlFormater = urlFormater;\n        };\n        RemoteData.prototype.dataField = function (dataField) {\n            this._dataField = dataField;\n        };\n        RemoteData.prototype.requestOptions = function (requestOptions) {\n            this._requestOptions = requestOptions;\n        };\n        RemoteData.prototype.search = function (term) {\n            var _this = this;\n            this.cancel();\n            // let params = {};\n            var url = \"\";\n            if (this._urlFormater) {\n                url = this._urlFormater(term);\n            }\n            else {\n                url = this._remoteUrl + encodeURIComponent(term);\n            }\n            this.remoteSearch = this.http\n                .get(url, Object.assign({}, this._requestOptions))\n                .pipe(operators.map(function (data) {\n                var matches = _this.extractValue(data, _this._dataField);\n                return _this.extractMatches(matches, term);\n            }), operators.catchError(function () { return []; }))\n                .subscribe(function (matches) {\n                var results = _this.processResults(matches);\n                _this.next(results);\n            });\n        };\n        RemoteData.prototype.cancel = function () {\n            if (this.remoteSearch) {\n                this.remoteSearch.unsubscribe();\n            }\n        };\n        RemoteData.prototype.convertToItem = function (data) {\n            return _super.prototype.convertToItem.call(this, data);\n        };\n        return RemoteData;\n    }(CompleterBaseData));\n\n    var LocalDataFactory = /** @class */ (function () {\n        function LocalDataFactory() {\n        }\n        LocalDataFactory.prototype.create = function () {\n            return new LocalData();\n        };\n        LocalDataFactory = __decorate([\n            core.Injectable()\n        ], LocalDataFactory);\n        return LocalDataFactory;\n    }());\n\n    var RemoteDataFactory = /** @class */ (function () {\n        function RemoteDataFactory(http) {\n            this.http = http;\n        }\n        RemoteDataFactory.prototype.create = function () {\n            return new RemoteData(this.http);\n        };\n        RemoteDataFactory = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [http.HttpClient])\n        ], RemoteDataFactory);\n        return RemoteDataFactory;\n    }());\n\n    var CompleterService = /** @class */ (function () {\n        function CompleterService(localDataFactory, // Using any instead of () => LocalData because of AoT errors\n        remoteDataFactory // Using any instead of () => LocalData because of AoT errors\n        ) {\n            this.localDataFactory = localDataFactory;\n            this.remoteDataFactory = remoteDataFactory;\n        }\n        CompleterService.prototype.local = function (data, searchFields, titleField) {\n            if (searchFields === void 0) { searchFields = \"\"; }\n            if (titleField === void 0) { titleField = \"\"; }\n            var localData = this.localDataFactory.create();\n            return localData\n                .data(data)\n                .searchFields(searchFields)\n                .titleField(titleField);\n        };\n        CompleterService.prototype.remote = function (url, searchFields, titleField) {\n            if (searchFields === void 0) { searchFields = \"\"; }\n            if (titleField === void 0) { titleField = \"\"; }\n            var remoteData = this.remoteDataFactory.create();\n            return remoteData\n                .remoteUrl(url)\n                .searchFields(searchFields)\n                .titleField(titleField);\n        };\n        CompleterService = __decorate([\n            core.Injectable(),\n            __metadata(\"design:paramtypes\", [LocalDataFactory,\n                RemoteDataFactory // Using any instead of () => LocalData because of AoT errors\n            ])\n        ], CompleterService);\n        return CompleterService;\n    }());\n\n    var CtrCompleter = /** @class */ (function () {\n        function CtrCompleter() {\n            this.selected = new core.EventEmitter();\n            this.highlighted = new core.EventEmitter();\n            this.opened = new core.EventEmitter();\n            this.dataSourceChange = new core.EventEmitter();\n            this.list = null;\n            this.dropdown = null;\n            this._hasHighlighted = false;\n            this._hasSelected = false;\n            this._cancelBlur = false;\n            this._isOpen = false;\n            this._autoHighlightIndex = null;\n        }\n        CtrCompleter.prototype.registerList = function (list) {\n            this.list = list;\n        };\n        CtrCompleter.prototype.registerDropdown = function (dropdown) {\n            this.dropdown = dropdown;\n        };\n        CtrCompleter.prototype.onHighlighted = function (item) {\n            this.highlighted.emit(item);\n            this._hasHighlighted = !!item;\n        };\n        CtrCompleter.prototype.onSelected = function (item, clearList) {\n            if (clearList === void 0) { clearList = true; }\n            this.selected.emit(item);\n            if (item) {\n                this._hasSelected = true;\n            }\n            if (clearList) {\n                this.clear();\n            }\n        };\n        CtrCompleter.prototype.onDataSourceChange = function () {\n            if (this.hasSelected) {\n                this.selected.emit(null);\n                this._hasSelected = false;\n            }\n            this.dataSourceChange.emit();\n        };\n        CtrCompleter.prototype.search = function (term) {\n            if (this._hasSelected) {\n                this.selected.emit(null);\n                this._hasSelected = false;\n            }\n            if (this.list) {\n                this.list.search(term);\n            }\n        };\n        CtrCompleter.prototype.clear = function () {\n            this._hasHighlighted = false;\n            this.isOpen = false;\n            if (this.dropdown) {\n                this.dropdown.clear();\n            }\n            if (this.list) {\n                this.list.clear();\n            }\n        };\n        CtrCompleter.prototype.selectCurrent = function () {\n            if (this.dropdown) {\n                this.dropdown.selectCurrent();\n            }\n        };\n        CtrCompleter.prototype.nextRow = function () {\n            if (this.dropdown) {\n                this.dropdown.nextRow();\n            }\n        };\n        CtrCompleter.prototype.prevRow = function () {\n            if (this.dropdown) {\n                this.dropdown.prevRow();\n            }\n        };\n        CtrCompleter.prototype.hasHighlighted = function () {\n            return this._hasHighlighted;\n        };\n        CtrCompleter.prototype.cancelBlur = function (cancel) {\n            this._cancelBlur = cancel;\n        };\n        CtrCompleter.prototype.isCancelBlur = function () {\n            return this._cancelBlur;\n        };\n        CtrCompleter.prototype.open = function () {\n            if (!this._isOpen && !!this.list) {\n                this.isOpen = true;\n                this.list.open();\n            }\n        };\n        Object.defineProperty(CtrCompleter.prototype, \"isOpen\", {\n            get: function () {\n                return this._isOpen;\n            },\n            set: function (open) {\n                this._isOpen = open;\n                this.opened.emit(this._isOpen);\n                if (this.list) {\n                    this.list.isOpen(open);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CtrCompleter.prototype, \"autoHighlightIndex\", {\n            get: function () {\n                return this._autoHighlightIndex;\n            },\n            set: function (index) {\n                this._autoHighlightIndex = index;\n                if (this.dropdown) {\n                    this.dropdown.highlightRow(this._autoHighlightIndex);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CtrCompleter.prototype, \"hasSelected\", {\n            get: function () {\n                return this._hasSelected;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", Object)\n        ], CtrCompleter.prototype, \"selected\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", Object)\n        ], CtrCompleter.prototype, \"highlighted\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", Object)\n        ], CtrCompleter.prototype, \"opened\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", Object)\n        ], CtrCompleter.prototype, \"dataSourceChange\", void 0);\n        CtrCompleter = __decorate([\n            core.Directive({\n                selector: \"[ctrCompleter]\",\n            })\n        ], CtrCompleter);\n        return CtrCompleter;\n    }());\n\n    var CtrRowItem = /** @class */ (function () {\n        function CtrRowItem(row, index) {\n            this.row = row;\n            this.index = index;\n        }\n        return CtrRowItem;\n    }());\n    var CtrDropdown = /** @class */ (function () {\n        function CtrDropdown(completer, el, zone) {\n            this.completer = completer;\n            this.el = el;\n            this.zone = zone;\n            this.rows = [];\n            this.isScrollOn = false;\n            this._rowMouseDown = false;\n            this.completer.registerDropdown(this);\n        }\n        CtrDropdown.prototype.ngOnDestroy = function () {\n            this.completer.registerDropdown(null);\n        };\n        CtrDropdown.prototype.ngAfterViewInit = function () {\n            var _this = this;\n            var css = getComputedStyle(this.el.nativeElement);\n            var autoHighlightIndex = this.completer.autoHighlightIndex;\n            this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\n            if (autoHighlightIndex) {\n                this.zone.run(function () {\n                    _this.highlightRow(autoHighlightIndex);\n                });\n            }\n        };\n        CtrDropdown.prototype.onMouseDown = function (event) {\n            var _this = this;\n            // Support for canceling blur on IE (issue #158)\n            if (!this._rowMouseDown) {\n                this.completer.cancelBlur(true);\n                this.zone.run(function () {\n                    _this.completer.cancelBlur(false);\n                });\n            }\n            else {\n                this._rowMouseDown = false;\n            }\n        };\n        CtrDropdown.prototype.registerRow = function (row) {\n            var arrIndex = this.rows.findIndex(function (_row) { return _row.index === row.index; });\n            if (arrIndex >= 0) {\n                this.rows[arrIndex] = row;\n            }\n            else {\n                this.rows.push(row);\n            }\n        };\n        CtrDropdown.prototype.unregisterRow = function (rowIndex) {\n            var arrIndex = this.rows.findIndex(function (_row) { return _row.index === rowIndex; });\n            this.rows.splice(arrIndex, 1);\n            if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\n                this.highlightRow(null);\n            }\n        };\n        CtrDropdown.prototype.highlightRow = function (index) {\n            var highlighted = this.rows.find(function (row) { return row.index === index; });\n            if (isNil(index) || index < 0) {\n                if (this.currHighlighted) {\n                    this.currHighlighted.row.setHighlighted(false);\n                }\n                this.currHighlighted = undefined;\n                this.completer.onHighlighted(null);\n                return;\n            }\n            if (!highlighted) {\n                return;\n            }\n            if (this.currHighlighted) {\n                this.currHighlighted.row.setHighlighted(false);\n            }\n            this.currHighlighted = highlighted;\n            this.currHighlighted.row.setHighlighted(true);\n            this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\n            if (this.isScrollOn && this.currHighlighted) {\n                var rowTop = this.dropdownRowTop();\n                if (!rowTop) {\n                    return;\n                }\n                if (rowTop < 0) {\n                    this.dropdownScrollTopTo(rowTop - 1);\n                }\n                else {\n                    var row = this.currHighlighted.row.getNativeElement();\n                    if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\n                        this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\n                        if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\n                            this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10)));\n                        }\n                    }\n                }\n            }\n        };\n        CtrDropdown.prototype.clear = function () {\n            this.rows = [];\n        };\n        CtrDropdown.prototype.onSelected = function (item) {\n            this.completer.onSelected(item);\n        };\n        CtrDropdown.prototype.rowMouseDown = function () {\n            this._rowMouseDown = true;\n        };\n        CtrDropdown.prototype.selectCurrent = function () {\n            if (!!this.currHighlighted && !!this.currHighlighted.row) {\n                this.onSelected(this.currHighlighted.row.getDataItem());\n            }\n            else if (this.rows.length > 0) {\n                this.onSelected(this.rows[0].row.getDataItem());\n            }\n        };\n        CtrDropdown.prototype.nextRow = function () {\n            var nextRowIndex = 0;\n            if (this.currHighlighted) {\n                nextRowIndex = this.currHighlighted.index + 1;\n            }\n            this.highlightRow(nextRowIndex);\n        };\n        CtrDropdown.prototype.prevRow = function () {\n            var nextRowIndex = -1;\n            if (this.currHighlighted) {\n                nextRowIndex = this.currHighlighted.index - 1;\n            }\n            this.highlightRow(nextRowIndex);\n        };\n        CtrDropdown.prototype.dropdownScrollTopTo = function (offset) {\n            this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\n        };\n        CtrDropdown.prototype.dropdownRowTop = function () {\n            if (!this.currHighlighted) {\n                return;\n            }\n            return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\n                (this.el.nativeElement.getBoundingClientRect().top +\n                    parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10));\n        };\n        CtrDropdown.prototype.dropdownHeight = function () {\n            return this.el.nativeElement.getBoundingClientRect().top +\n                parseInt(getComputedStyle(this.el.nativeElement).maxHeight, 10);\n        };\n        CtrDropdown.prototype.dropdownRowOffsetHeight = function (row) {\n            var css = getComputedStyle(row.parentElement);\n            return row.parentElement.offsetHeight +\n                parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\n        };\n        __decorate([\n            core.HostListener(\"mousedown\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrDropdown.prototype, \"onMouseDown\", null);\n        CtrDropdown = __decorate([\n            core.Directive({\n                selector: \"[ctrDropdown]\",\n            }),\n            __param(0, core.Host()),\n            __metadata(\"design:paramtypes\", [CtrCompleter, core.ElementRef, core.NgZone])\n        ], CtrDropdown);\n        return CtrDropdown;\n    }());\n\n    // keyboard events\n    var KEY_DW = 40;\n    var KEY_RT = 39;\n    var KEY_UP = 38;\n    var KEY_LF = 37;\n    var KEY_ES = 27;\n    var KEY_EN = 13;\n    var KEY_TAB = 9;\n    var KEY_BK = 8;\n    var KEY_SH = 16;\n    var KEY_CL = 20;\n    var KEY_F1 = 112;\n    var KEY_F12 = 123;\n    var CtrInput = /** @class */ (function () {\n        function CtrInput(completer, ngModel, el) {\n            var _this = this;\n            this.completer = completer;\n            this.ngModel = ngModel;\n            this.el = el;\n            this.clearSelected = false;\n            this.clearUnselected = false;\n            this.overrideSuggested = false;\n            this.fillHighlighted = true;\n            this.openOnFocus = false;\n            this.openOnClick = false;\n            this.selectOnClick = false;\n            this.selectOnFocus = false;\n            this.ngModelChange = new core.EventEmitter();\n            this._searchStr = \"\";\n            this._displayStr = \"\";\n            this.blurTimer = null;\n            this.completer.selected.subscribe(function (item) {\n                if (!item) {\n                    return;\n                }\n                if (_this.clearSelected) {\n                    _this.searchStr = \"\";\n                }\n                else {\n                    _this.searchStr = item.title;\n                }\n                _this.ngModelChange.emit(_this.searchStr);\n            });\n            this.completer.highlighted.subscribe(function (item) {\n                if (_this.fillHighlighted) {\n                    if (item) {\n                        _this._displayStr = item.title;\n                        _this.ngModelChange.emit(item.title);\n                    }\n                    else {\n                        _this._displayStr = _this.searchStr;\n                        _this.ngModelChange.emit(_this.searchStr);\n                    }\n                }\n            });\n            this.completer.dataSourceChange.subscribe(function () {\n                _this.completer.search(_this.searchStr);\n            });\n            if (this.ngModel.valueChanges) {\n                this.ngModel.valueChanges.subscribe(function (value) {\n                    if (!isNil(value) && _this._displayStr !== value) {\n                        if (_this.searchStr !== value) {\n                            _this.completer.search(value);\n                        }\n                        _this.searchStr = value;\n                    }\n                });\n            }\n        }\n        CtrInput.prototype.keyupHandler = function (event) {\n            if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\n                // do nothing\n                return;\n            }\n            if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\n                event.preventDefault();\n            }\n            else if (event.keyCode === KEY_DW) {\n                event.preventDefault();\n                this.completer.search(this.searchStr);\n            }\n            else if (event.keyCode === KEY_ES) {\n                if (this.completer.isOpen) {\n                    this.restoreSearchValue();\n                    this.completer.clear();\n                    event.stopPropagation();\n                    event.preventDefault();\n                }\n            }\n        };\n        CtrInput.prototype.pasteHandler = function (event) {\n            this.completer.open();\n        };\n        CtrInput.prototype.keydownHandler = function (event) {\n            var keyCode = event.keyCode || event.which;\n            if (keyCode === KEY_EN) {\n                if (this.completer.hasHighlighted()) {\n                    event.preventDefault();\n                }\n                this.handleSelection();\n            }\n            else if (keyCode === KEY_DW) {\n                event.preventDefault();\n                this.completer.open();\n                this.completer.nextRow();\n            }\n            else if (keyCode === KEY_UP) {\n                event.preventDefault();\n                this.completer.prevRow();\n            }\n            else if (keyCode === KEY_TAB) {\n                this.handleSelection();\n            }\n            else if (keyCode === KEY_BK) {\n                this.completer.open();\n            }\n            else if (keyCode === KEY_ES) {\n                // This is very specific to IE10/11 #272\n                // without this, IE clears the input text\n                event.preventDefault();\n                if (this.completer.isOpen) {\n                    event.stopPropagation();\n                }\n            }\n            else {\n                if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\n                    (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\n                    !event.ctrlKey && !event.metaKey && !event.altKey) {\n                    this.completer.open();\n                }\n            }\n        };\n        CtrInput.prototype.onBlur = function (event) {\n            var _this = this;\n            // Check if we need to cancel Blur for IE\n            if (this.completer.isCancelBlur()) {\n                setTimeout(function () {\n                    // get the focus back\n                    _this.el.nativeElement.focus();\n                }, 0);\n                return;\n            }\n            if (this.completer.isOpen) {\n                this.blurTimer = timer(200).pipe(operators.take(1)).subscribe(function () { return _this.doBlur(); });\n            }\n        };\n        CtrInput.prototype.onfocus = function () {\n            if (this.blurTimer) {\n                this.blurTimer.unsubscribe();\n                this.blurTimer = null;\n            }\n            if (this.selectOnFocus) {\n                this.el.nativeElement.select();\n            }\n            if (this.openOnFocus) {\n                this.completer.open();\n            }\n        };\n        CtrInput.prototype.onClick = function (event) {\n            if (this.selectOnClick) {\n                this.el.nativeElement.select();\n            }\n            if (this.openOnClick) {\n                if (this.completer.isOpen) {\n                    this.completer.clear();\n                }\n                else {\n                    this.completer.open();\n                }\n            }\n        };\n        Object.defineProperty(CtrInput.prototype, \"searchStr\", {\n            get: function () {\n                return this._searchStr;\n            },\n            set: function (term) {\n                this._searchStr = term;\n                this._displayStr = term;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CtrInput.prototype.handleSelection = function () {\n            if (this.completer.hasHighlighted()) {\n                this._searchStr = \"\";\n                this.completer.selectCurrent();\n            }\n            else if (this.overrideSuggested) {\n                this.completer.onSelected({ title: this.searchStr, originalObject: null });\n            }\n            else {\n                if (this.clearUnselected && !this.completer.hasSelected) {\n                    this.searchStr = \"\";\n                    this.ngModelChange.emit(this.searchStr);\n                }\n                this.completer.clear();\n            }\n        };\n        CtrInput.prototype.restoreSearchValue = function () {\n            if (this.fillHighlighted) {\n                if (this._displayStr != this.searchStr) {\n                    this._displayStr = this.searchStr;\n                    this.ngModelChange.emit(this.searchStr);\n                }\n            }\n        };\n        CtrInput.prototype.doBlur = function () {\n            if (this.blurTimer) {\n                this.blurTimer.unsubscribe();\n                this.blurTimer = null;\n            }\n            if (this.overrideSuggested) {\n                this.completer.onSelected({ title: this.searchStr, originalObject: null });\n            }\n            else {\n                if (this.clearUnselected && !this.completer.hasSelected) {\n                    this.searchStr = \"\";\n                    this.ngModelChange.emit(this.searchStr);\n                }\n                else {\n                    this.restoreSearchValue();\n                }\n            }\n            this.completer.clear();\n        };\n        __decorate([\n            core.Input(\"clearSelected\"),\n            __metadata(\"design:type\", Object)\n        ], CtrInput.prototype, \"clearSelected\", void 0);\n        __decorate([\n            core.Input(\"clearUnselected\"),\n            __metadata(\"design:type\", Object)\n        ], CtrInput.prototype, \"clearUnselected\", void 0);\n        __decorate([\n            core.Input(\"overrideSuggested\"),\n            __metadata(\"design:type\", Object)\n        ], CtrInput.prototype, \"overrideSuggested\", void 0);\n        __decorate([\n            core.Input(\"fillHighlighted\"),\n            __metadata(\"design:type\", Object)\n        ], CtrInput.prototype, \"fillHighlighted\", void 0);\n        __decorate([\n            core.Input(\"openOnFocus\"),\n            __metadata(\"design:type\", Object)\n        ], CtrInput.prototype, \"openOnFocus\", void 0);\n        __decorate([\n            core.Input(\"openOnClick\"),\n            __metadata(\"design:type\", Object)\n        ], CtrInput.prototype, \"openOnClick\", void 0);\n        __decorate([\n            core.Input(\"selectOnClick\"),\n            __metadata(\"design:type\", Object)\n        ], CtrInput.prototype, \"selectOnClick\", void 0);\n        __decorate([\n            core.Input(\"selectOnFocus\"),\n            __metadata(\"design:type\", Object)\n        ], CtrInput.prototype, \"selectOnFocus\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", core.EventEmitter)\n        ], CtrInput.prototype, \"ngModelChange\", void 0);\n        __decorate([\n            core.HostListener(\"keyup\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrInput.prototype, \"keyupHandler\", null);\n        __decorate([\n            core.HostListener(\"paste\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrInput.prototype, \"pasteHandler\", null);\n        __decorate([\n            core.HostListener(\"keydown\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrInput.prototype, \"keydownHandler\", null);\n        __decorate([\n            core.HostListener(\"blur\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrInput.prototype, \"onBlur\", null);\n        __decorate([\n            core.HostListener(\"focus\", []),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrInput.prototype, \"onfocus\", null);\n        __decorate([\n            core.HostListener(\"click\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrInput.prototype, \"onClick\", null);\n        CtrInput = __decorate([\n            core.Directive({\n                selector: \"[ctrInput]\",\n            }),\n            __param(0, core.Host()),\n            __metadata(\"design:paramtypes\", [CtrCompleter, forms.NgModel, core.ElementRef])\n        ], CtrInput);\n        return CtrInput;\n    }());\n\n    var CtrListContext = /** @class */ (function () {\n        function CtrListContext(results, searching, searchInitialized, isOpen) {\n            this.results = results;\n            this.searching = searching;\n            this.searchInitialized = searchInitialized;\n            this.isOpen = isOpen;\n        }\n        return CtrListContext;\n    }());\n    var CtrList = /** @class */ (function () {\n        function CtrList(completer, templateRef, viewContainer, cd, zone) {\n            this.completer = completer;\n            this.templateRef = templateRef;\n            this.viewContainer = viewContainer;\n            this.cd = cd;\n            this.zone = zone;\n            this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\n            this.ctrListPause = PAUSE;\n            this.ctrListAutoMatch = false;\n            this.ctrListAutoHighlight = false;\n            this.ctrListDisplaySearching = true;\n            this._dataService = null;\n            // private results: CompleterItem[] = [];\n            this.term = null;\n            // private searching = false;\n            this.searchTimer = null;\n            this.clearTimer = null;\n            this.ctx = new CtrListContext([], false, false, false);\n            this._initialValue = null;\n            this.viewRef = null;\n        }\n        CtrList.prototype.ngOnInit = function () {\n            this.completer.registerList(this);\n            this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false, false));\n        };\n        Object.defineProperty(CtrList.prototype, \"dataService\", {\n            set: function (newService) {\n                this._dataService = newService;\n                this.dataServiceSubscribe();\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CtrList.prototype, \"initialValue\", {\n            set: function (value) {\n                var _this = this;\n                if (this._dataService && typeof this._dataService.convertToItem === \"function\") {\n                    this.zone.run(function () {\n                        var initialItem = _this._dataService && _this._dataService.convertToItem(value);\n                        if (initialItem) {\n                            _this.completer.onSelected(initialItem, false);\n                        }\n                    });\n                }\n                else if (!this._dataService) {\n                    this._initialValue = value;\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CtrList.prototype.search = function (term) {\n            var _this = this;\n            if (!isNil(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\n                if (this.searchTimer) {\n                    this.searchTimer.unsubscribe();\n                    this.searchTimer = null;\n                }\n                if (!this.ctx.searching) {\n                    if (this.ctrListDisplaySearching) {\n                        this.ctx.results = [];\n                    }\n                    this.ctx.searching = true;\n                    this.ctx.searchInitialized = true;\n                    this.refreshTemplate();\n                }\n                if (this.clearTimer) {\n                    this.clearTimer.unsubscribe();\n                }\n                this.searchTimer = timer(this.ctrListPause).pipe(operators.take(1)).subscribe(function () {\n                    _this.searchTimerComplete(term);\n                });\n            }\n            else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\n                this.clear();\n                this.term = \"\";\n            }\n        };\n        CtrList.prototype.clear = function () {\n            var _this = this;\n            if (this.searchTimer) {\n                this.searchTimer.unsubscribe();\n            }\n            this.clearTimer = timer(CLEAR_TIMEOUT).pipe(operators.take(1)).subscribe(function () {\n                _this._clear();\n            });\n        };\n        CtrList.prototype.open = function () {\n            if (!this.ctx.searchInitialized) {\n                this.search(\"\");\n            }\n            this.refreshTemplate();\n        };\n        CtrList.prototype.isOpen = function (open) {\n            this.ctx.isOpen = open;\n        };\n        CtrList.prototype._clear = function () {\n            if (this.searchTimer) {\n                this.searchTimer.unsubscribe();\n                this.searchTimer = null;\n            }\n            if (this.dataService) {\n                this.dataService.cancel();\n            }\n            this.viewContainer.clear();\n            this.viewRef = null;\n        };\n        CtrList.prototype.searchTimerComplete = function (term) {\n            // Begin the search\n            if (isNil(term) || term.length < this.ctrListMinSearchLength) {\n                this.ctx.searching = false;\n                return;\n            }\n            this.term = term;\n            if (this._dataService) {\n                this._dataService.search(term);\n            }\n        };\n        CtrList.prototype.refreshTemplate = function () {\n            // create the template if it doesn't exist\n            if (!this.viewRef) {\n                this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\n            }\n            else if (!this.viewRef.destroyed) {\n                // refresh the template\n                this.viewRef.context.isOpen = this.ctx.isOpen;\n                this.viewRef.context.results = this.ctx.results;\n                this.viewRef.context.searching = this.ctx.searching;\n                this.viewRef.context.searchInitialized = this.ctx.searchInitialized;\n                this.viewRef.detectChanges();\n            }\n            this.cd.markForCheck();\n        };\n        CtrList.prototype.getBestMatchIndex = function () {\n            var _this = this;\n            if (!this.ctx.results || !this.term) {\n                return null;\n            }\n            // First try to find the exact term\n            var bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase() === _this.term.toLocaleLowerCase(); });\n            // If not try to find the first item that starts with the term\n            if (bestMatch < 0) {\n                bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().startsWith(_this.term.toLocaleLowerCase()); });\n            }\n            // If not try to find the first item that includes the term\n            if (bestMatch < 0) {\n                bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().includes(_this.term.toLocaleLowerCase()); });\n            }\n            return bestMatch < 0 ? null : bestMatch;\n        };\n        CtrList.prototype.dataServiceSubscribe = function () {\n            var _this = this;\n            if (this._dataService) {\n                this._dataService\n                    .subscribe(function (results) {\n                    _this.ctx.searchInitialized = true;\n                    _this.ctx.searching = false;\n                    _this.ctx.results = results;\n                    if (_this.ctrListAutoMatch && results &&\n                        results.length === 1 && results[0].title &&\n                        !isNil(_this.term) &&\n                        results[0].title.toLocaleLowerCase() === _this.term.toLocaleLowerCase()) {\n                        // Do automatch\n                        _this.completer.onSelected(results[0]);\n                        return;\n                    }\n                    _this.refreshTemplate();\n                    if (_this.ctrListAutoHighlight) {\n                        _this.completer.autoHighlightIndex = _this.getBestMatchIndex();\n                    }\n                }, function (error) {\n                    console.error(error);\n                    console.error(\"Unexpected error in dataService: errors should be handled by the dataService Observable\");\n                    return [];\n                });\n                if (this._dataService.dataSourceChange) {\n                    this._dataService.dataSourceChange.subscribe(function () {\n                        _this.term = null;\n                        _this.ctx.searchInitialized = false;\n                        _this.ctx.searching = false;\n                        _this.ctx.results = [];\n                        _this.refreshTemplate();\n                        _this.completer.onDataSourceChange();\n                    });\n                }\n            }\n        };\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CtrList.prototype, \"ctrListMinSearchLength\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CtrList.prototype, \"ctrListPause\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CtrList.prototype, \"ctrListAutoMatch\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CtrList.prototype, \"ctrListAutoHighlight\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CtrList.prototype, \"ctrListDisplaySearching\", void 0);\n        __decorate([\n            core.Input(\"ctrList\"),\n            __metadata(\"design:type\", Object),\n            __metadata(\"design:paramtypes\", [Object])\n        ], CtrList.prototype, \"dataService\", null);\n        __decorate([\n            core.Input(\"ctrListInitialValue\"),\n            __metadata(\"design:type\", Object),\n            __metadata(\"design:paramtypes\", [Object])\n        ], CtrList.prototype, \"initialValue\", null);\n        CtrList = __decorate([\n            core.Directive({\n                selector: \"[ctrList]\",\n            }),\n            __param(0, core.Host()),\n            __metadata(\"design:paramtypes\", [CtrCompleter,\n                core.TemplateRef,\n                core.ViewContainerRef,\n                core.ChangeDetectorRef,\n                core.NgZone])\n        ], CtrList);\n        return CtrList;\n    }());\n\n    var CtrRow = /** @class */ (function () {\n        function CtrRow(el, renderer, dropdown) {\n            this.el = el;\n            this.renderer = renderer;\n            this.dropdown = dropdown;\n            this.selected = false;\n            this._rowIndex = 0;\n            this._item = null;\n        }\n        CtrRow.prototype.ngOnDestroy = function () {\n            if (this._rowIndex) {\n                this.dropdown.unregisterRow(this._rowIndex);\n            }\n        };\n        Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\n            set: function (index) {\n                this._rowIndex = index;\n                this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CtrRow.prototype, \"dataItem\", {\n            set: function (item) {\n                this._item = item;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CtrRow.prototype.onClick = function (event) {\n            this.dropdown.onSelected(this._item);\n        };\n        CtrRow.prototype.onMouseEnter = function (event) {\n            this.dropdown.highlightRow(this._rowIndex);\n        };\n        CtrRow.prototype.onMouseDown = function (event) {\n            this.dropdown.rowMouseDown();\n        };\n        CtrRow.prototype.setHighlighted = function (selected) {\n            this.selected = selected;\n            if (this.selected) {\n                this.renderer.addClass(this.el.nativeElement, \"completer-selected-row\");\n            }\n            else {\n                this.renderer.removeClass(this.el.nativeElement, \"completer-selected-row\");\n            }\n        };\n        CtrRow.prototype.getNativeElement = function () {\n            return this.el.nativeElement;\n        };\n        CtrRow.prototype.getDataItem = function () {\n            return this._item;\n        };\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Number),\n            __metadata(\"design:paramtypes\", [Number])\n        ], CtrRow.prototype, \"ctrRow\", null);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object),\n            __metadata(\"design:paramtypes\", [Object])\n        ], CtrRow.prototype, \"dataItem\", null);\n        __decorate([\n            core.HostListener(\"click\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrRow.prototype, \"onClick\", null);\n        __decorate([\n            core.HostListener(\"mouseenter\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrRow.prototype, \"onMouseEnter\", null);\n        __decorate([\n            core.HostListener(\"mousedown\", [\"$event\"]),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Object]),\n            __metadata(\"design:returntype\", void 0)\n        ], CtrRow.prototype, \"onMouseDown\", null);\n        CtrRow = __decorate([\n            core.Directive({\n                selector: \"[ctrRow]\",\n            }),\n            __param(2, core.Host()),\n            __metadata(\"design:paramtypes\", [core.ElementRef, core.Renderer2, CtrDropdown])\n        ], CtrRow);\n        return CtrRow;\n    }());\n\n    var CompleterListItemCmp = /** @class */ (function () {\n        function CompleterListItemCmp() {\n            this.text = \"\";\n            this.searchStr = \"\";\n            this.matchClass = \"\";\n            this.type = \"\";\n            this.parts = [];\n        }\n        CompleterListItemCmp.prototype.ngOnInit = function () {\n            if (!this.searchStr) {\n                this.parts.push({ isMatch: false, text: this.text });\n                return;\n            }\n            var matchStr = this.text.toLowerCase();\n            var matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\n            var startIndex = 0;\n            while (matchPos >= 0) {\n                var matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\n                if (matchPos === 0) {\n                    this.parts.push({ isMatch: true, text: matchText });\n                    startIndex += this.searchStr.length;\n                }\n                else if (matchPos > 0) {\n                    var matchPart = this.text.slice(startIndex, matchPos);\n                    this.parts.push({ isMatch: false, text: matchPart });\n                    this.parts.push({ isMatch: true, text: matchText });\n                    startIndex += this.searchStr.length + matchPart.length;\n                }\n                matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\n            }\n            if (startIndex < this.text.length) {\n                this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\n            }\n        };\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", String)\n        ], CompleterListItemCmp.prototype, \"text\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", String)\n        ], CompleterListItemCmp.prototype, \"searchStr\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", String)\n        ], CompleterListItemCmp.prototype, \"matchClass\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", String)\n        ], CompleterListItemCmp.prototype, \"type\", void 0);\n        CompleterListItemCmp = __decorate([\n            core.Component({\n                selector: \"completer-list-item\",\n                template: \"<span class=\\\"completer-list-item-holder\\\" [ngClass]= \\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]= \\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\"\n            })\n        ], CompleterListItemCmp);\n        return CompleterListItemCmp;\n    }());\n\n    var noop$1 = function () {\n        return;\n    };\n    var COMPLETER_CONTROL_VALUE_ACCESSOR = {\n        multi: true,\n        provide: forms.NG_VALUE_ACCESSOR,\n        useExisting: core.forwardRef(function () { return CompleterCmp; }),\n    };\n    var CompleterCmp = /** @class */ (function () {\n        function CompleterCmp(completerService, cdr) {\n            this.completerService = completerService;\n            this.cdr = cdr;\n            this.inputName = \"\";\n            this.inputId = \"\";\n            this.pause = PAUSE;\n            this.minSearchLength = MIN_SEARCH_LENGTH;\n            this.maxChars = MAX_CHARS;\n            this.overrideSuggested = false;\n            this.clearSelected = false;\n            this.clearUnselected = false;\n            this.fillHighlighted = true;\n            this.placeholder = \"\";\n            this.autoMatch = false;\n            this.disableInput = false;\n            this.autofocus = false;\n            this.openOnFocus = false;\n            this.openOnClick = false;\n            this.selectOnClick = false;\n            this.selectOnFocus = false;\n            this.autoHighlight = false;\n            this.selected = new core.EventEmitter();\n            this.highlighted = new core.EventEmitter();\n            this.blurEvent = new core.EventEmitter();\n            this.click = new core.EventEmitter();\n            this.focusEvent = new core.EventEmitter();\n            this.opened = new core.EventEmitter();\n            this.keyup = new core.EventEmitter();\n            this.keydown = new core.EventEmitter();\n            this.control = new forms.FormControl(\"\");\n            this.displaySearching = true;\n            this.displayNoResults = true;\n            this._textNoResults = TEXT_NO_RESULTS;\n            this._textSearching = TEXT_SEARCHING;\n            this._onTouchedCallback = noop$1;\n            this._onChangeCallback = noop$1;\n            this._focus = false;\n            this._open = false;\n            this._searchStr = \"\";\n        }\n        Object.defineProperty(CompleterCmp.prototype, \"value\", {\n            get: function () { return this.searchStr; },\n            set: function (v) {\n                if (v !== this.searchStr) {\n                    this.searchStr = v;\n                }\n                // Propagate the change in any case\n                this._onChangeCallback(v);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CompleterCmp.prototype, \"searchStr\", {\n            get: function () {\n                return this._searchStr;\n            },\n            set: function (value) {\n                if (typeof value === \"string\" || isNil(value)) {\n                    this._searchStr = value;\n                }\n                else {\n                    this._searchStr = JSON.stringify(value);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CompleterCmp.prototype.ngAfterViewInit = function () {\n            if (this.autofocus) {\n                this._focus = true;\n            }\n        };\n        CompleterCmp.prototype.ngAfterViewChecked = function () {\n            var _this = this;\n            if (this._focus) {\n                setTimeout(function () {\n                    if (!!_this.ctrInput) {\n                        _this.ctrInput.nativeElement.focus();\n                        _this._focus = false;\n                    }\n                }, 0);\n            }\n        };\n        CompleterCmp.prototype.onTouched = function () {\n            this._onTouchedCallback();\n        };\n        CompleterCmp.prototype.writeValue = function (value) {\n            this.searchStr = value;\n        };\n        CompleterCmp.prototype.registerOnChange = function (fn) {\n            this._onChangeCallback = fn;\n        };\n        CompleterCmp.prototype.registerOnTouched = function (fn) {\n            this._onTouchedCallback = fn;\n        };\n        CompleterCmp.prototype.setDisabledState = function (isDisabled) {\n            this.disableInput = isDisabled;\n        };\n        Object.defineProperty(CompleterCmp.prototype, \"datasource\", {\n            set: function (source) {\n                if (source) {\n                    if (source instanceof Array) {\n                        this.dataService = this.completerService.local(source);\n                    }\n                    else if (typeof (source) === \"string\") {\n                        this.dataService = this.completerService.remote(source);\n                    }\n                    else {\n                        this.dataService = source;\n                    }\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CompleterCmp.prototype, \"textNoResults\", {\n            set: function (text) {\n                if (this._textNoResults !== text) {\n                    this._textNoResults = text;\n                    this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CompleterCmp.prototype, \"textSearching\", {\n            set: function (text) {\n                if (this._textSearching !== text) {\n                    this._textSearching = text;\n                    this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CompleterCmp.prototype.ngOnInit = function () {\n            var _this = this;\n            if (!this.completer) {\n                return;\n            }\n            this.completer.selected.subscribe(function (item) {\n                _this.selected.emit(item);\n            });\n            this.completer.highlighted.subscribe(function (item) {\n                _this.highlighted.emit(item);\n            });\n            this.completer.opened.subscribe(function (isOpen) {\n                _this._open = isOpen;\n                _this.opened.emit(isOpen);\n            });\n        };\n        CompleterCmp.prototype.onBlur = function () {\n            this.blurEvent.emit();\n            this.onTouched();\n            this.cdr.detectChanges();\n        };\n        CompleterCmp.prototype.onFocus = function () {\n            this.focusEvent.emit();\n            this.onTouched();\n        };\n        CompleterCmp.prototype.onClick = function (event) {\n            this.click.emit(event);\n            this.onTouched();\n        };\n        CompleterCmp.prototype.onKeyup = function (event) {\n            this.keyup.emit(event);\n            event.stopPropagation();\n        };\n        CompleterCmp.prototype.onKeydown = function (event) {\n            this.keydown.emit(event);\n            event.stopPropagation();\n        };\n        CompleterCmp.prototype.onChange = function (value) {\n            this.value = value;\n        };\n        CompleterCmp.prototype.open = function () {\n            if (!this.completer) {\n                return;\n            }\n            this.completer.open();\n        };\n        CompleterCmp.prototype.close = function () {\n            if (!this.completer) {\n                return;\n            }\n            this.completer.clear();\n        };\n        CompleterCmp.prototype.focus = function () {\n            if (this.ctrInput) {\n                this.ctrInput.nativeElement.focus();\n            }\n            else {\n                this._focus = true;\n            }\n        };\n        CompleterCmp.prototype.blur = function () {\n            if (this.ctrInput) {\n                this.ctrInput.nativeElement.blur();\n            }\n            else {\n                this._focus = false;\n            }\n        };\n        CompleterCmp.prototype.isOpen = function () {\n            return this._open;\n        };\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"dataService\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"inputName\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", String)\n        ], CompleterCmp.prototype, \"inputId\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"pause\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"minSearchLength\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"maxChars\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"overrideSuggested\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"clearSelected\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"clearUnselected\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"fillHighlighted\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"placeholder\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"matchClass\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"fieldTabindex\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"autoMatch\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"disableInput\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"inputClass\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"autofocus\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"openOnFocus\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"openOnClick\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"selectOnClick\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"selectOnFocus\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"initialValue\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"autoHighlight\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"selected\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"highlighted\", void 0);\n        __decorate([\n            core.Output(\"blur\"),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"blurEvent\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"click\", void 0);\n        __decorate([\n            core.Output(\"focus\"),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"focusEvent\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"opened\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", core.EventEmitter)\n        ], CompleterCmp.prototype, \"keyup\", void 0);\n        __decorate([\n            core.Output(),\n            __metadata(\"design:type\", core.EventEmitter)\n        ], CompleterCmp.prototype, \"keydown\", void 0);\n        __decorate([\n            core.ViewChild(CtrCompleter, { static: false }),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"completer\", void 0);\n        __decorate([\n            core.ViewChild(\"ctrInput\", { static: false }),\n            __metadata(\"design:type\", Object)\n        ], CompleterCmp.prototype, \"ctrInput\", void 0);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", Object),\n            __metadata(\"design:paramtypes\", [Object])\n        ], CompleterCmp.prototype, \"datasource\", null);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", String),\n            __metadata(\"design:paramtypes\", [String])\n        ], CompleterCmp.prototype, \"textNoResults\", null);\n        __decorate([\n            core.Input(),\n            __metadata(\"design:type\", String),\n            __metadata(\"design:paramtypes\", [String])\n        ], CompleterCmp.prototype, \"textSearching\", null);\n        CompleterCmp = __decorate([\n            core.Component({\n                selector: \"ng2-completer\",\n                template: \"\\n        <div class=\\\"completer-holder\\\" ctrCompleter>\\n            <input #ctrInput [attr.id]=\\\"inputId.length > 0 ? inputId : null\\\" type=\\\"search\\\"\\n                class=\\\"completer-input\\\" ctrInput [ngClass]=\\\"inputClass\\\"\\n                [(ngModel)]=\\\"searchStr\\\" (ngModelChange)=\\\"onChange($event)\\\"\\n                [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\"\\n                [attr.maxlength]=\\\"maxChars\\\" [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\"\\n                [clearSelected]=\\\"clearSelected\\\" [clearUnselected]=\\\"clearUnselected\\\"\\n                [overrideSuggested]=\\\"overrideSuggested\\\" [openOnFocus]=\\\"openOnFocus\\\" [fillHighlighted]=\\\"fillHighlighted\\\"\\n                [openOnClick]=\\\"openOnClick\\\" [selectOnClick]=\\\"selectOnClick\\\" [selectOnFocus]=\\\"selectOnFocus\\\"\\n                (blur)=\\\"onBlur()\\\" (focus)=\\\"onFocus()\\\" (keyup)=\\\"onKeyup($event)\\\"\\n                (keydown)=\\\"onKeydown($event)\\\" (click)=\\\"onClick($event)\\\"\\n                autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" />\\n\\n            <div class=\\\"completer-dropdown-holder\\\"\\n                *ctrList=\\\"dataService;\\n                    minSearchLength: minSearchLength;\\n                    pause: pause;\\n                    autoMatch: autoMatch;\\n                    initialValue: initialValue;\\n                    autoHighlight: autoHighlight;\\n                    displaySearching: displaySearching;\\n                    let items = results;\\n                    let searchActive = searching;\\n                    let isInitialized = searchInitialized;\\n                    let isOpen = isOpen;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown\\n                    *ngIf=\\\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{ _textSearching }}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items?.length === 0)\\\"\\n                    class=\\\"completer-no-results\\\">{{ _textNoResults }}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\"\\n                            [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item\\n                                class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\"\\n                                [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\"\\n                                class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\n                styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 250px;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px;\\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    \"],\n                providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\n            }),\n            __metadata(\"design:paramtypes\", [CompleterService, core.ChangeDetectorRef])\n        ], CompleterCmp);\n        return CompleterCmp;\n    }());\n\n    var providers = [\n        CompleterService,\n        LocalDataFactory,\n        RemoteDataFactory\n    ];\n    var Ng2CompleterModule = /** @class */ (function () {\n        function Ng2CompleterModule() {\n        }\n        Ng2CompleterModule_1 = Ng2CompleterModule;\n        Ng2CompleterModule.forRoot = function () {\n            return {\n                ngModule: Ng2CompleterModule_1,\n                providers: providers\n            };\n        };\n        Ng2CompleterModule.forChild = function () {\n            return {\n                ngModule: Ng2CompleterModule_1,\n                providers: providers\n            };\n        };\n        var Ng2CompleterModule_1;\n        Ng2CompleterModule = Ng2CompleterModule_1 = __decorate([\n            core.NgModule({\n                declarations: [\n                    CompleterListItemCmp,\n                    CtrCompleter,\n                    CtrDropdown,\n                    CtrInput,\n                    CtrList,\n                    CtrRow,\n                    CompleterCmp\n                ],\n                exports: [\n                    CompleterListItemCmp,\n                    CtrCompleter,\n                    CtrDropdown,\n                    CtrInput,\n                    CtrList,\n                    CtrRow,\n                    CompleterCmp\n                ],\n                imports: [\n                    common.CommonModule,\n                    forms.FormsModule\n                ],\n                providers: providers\n            })\n        ], Ng2CompleterModule);\n        return Ng2CompleterModule;\n    }());\n\n    exports.CompleterCmp = CompleterCmp;\n    exports.CompleterListItemCmp = CompleterListItemCmp;\n    exports.CompleterService = CompleterService;\n    exports.CtrCompleter = CtrCompleter;\n    exports.CtrDropdown = CtrDropdown;\n    exports.CtrInput = CtrInput;\n    exports.CtrList = CtrList;\n    exports.CtrRow = CtrRow;\n    exports.LocalData = LocalData;\n    exports.LocalDataFactory = LocalDataFactory;\n    exports.Ng2CompleterModule = Ng2CompleterModule;\n    exports.RemoteData = RemoteData;\n    exports.RemoteDataFactory = RemoteDataFactory;\n    exports.ɵa = CtrListContext;\n    exports.ɵb = CompleterBaseData;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=ng2-completer.umd.js.map\n"]}